{"version":3,"sources":["../src/lib/models/index.ts"],"names":["Sequelize","require","Settings","dbSettings","env","db","database","user","password","models","sequelize","fs","readdirSync","__dirname","filter","file","indexOf","endsWith","forEach","model","path","join","DataTypes","name"],"mappings":";;;;;;AAAA;;;;AACA;;;;;;AAEA,MAAMA,SAAS,GAAGC,OAAO,CAAC,WAAD,CAAzB;;AACA,MAAMC,QAAQ,GAAGD,OAAO,CAAC,gBAAD,CAAxB;;AACA,MAAME,UAAU,GAAGD,QAAQ,CAACA,QAAQ,CAACE,GAAV,CAAR,CAAuBC,EAA1C;AAEA,MAAMA,EAAE,GAAG,IAAIL,SAAJ,CACPG,UAAU,CAACG,QADJ,EAEPH,UAAU,CAACI,IAFJ,EAGPJ,UAAU,CAACK,QAHJ,EAIPL,UAJO,CAAX;AAOA,MAAMM,MAAM,GAAG;AACXC,EAAAA,SAAS,EAAE,IADA;AAEXV,EAAAA,SAAS,EAAE;AAFA,CAAf;;AAKAW,aAAGC,WAAH,CAAeC,SAAf,EACCC,MADD,CACQC,IAAI,IAAIA,IAAI,CAACC,OAAL,CAAa,GAAb,MAAsB,CAAtB,IAA2BD,IAAI,KAAK,UAApC,IAAkD,CAACA,IAAI,CAACE,QAAL,CAAc,KAAd,CADnE,EAECC,OAFD,CAESH,IAAI,IAAG;AACZ,QAAMI,KAAK,GAAGlB,OAAO,CAACmB,eAAKC,IAAL,CAAUR,SAAV,EAAqBE,IAArB,CAAD,CAAP,CAAoCV,EAApC,EAAwCL,SAAS,CAACsB,SAAlD,CAAd;;AACAb,EAAAA,MAAM,CAACU,KAAK,CAACI,IAAP,CAAN,GAAqBJ,KAArB;AACH,CALD;;AAOAV,MAAM,CAACC,SAAP,GAAmBL,EAAnB;AACAI,MAAM,CAACT,SAAP,GAAmBA,SAAnB;kBAEeS,M","file":"index.js","sourcesContent":["import fs from \"fs\"\nimport path from \"path\"\n\nconst Sequelize = require(\"sequelize\")\nconst Settings = require('../../settings')\nconst dbSettings = Settings[Settings.env].db\n\nconst db = new Sequelize(\n    dbSettings.database,\n    dbSettings.user,\n    dbSettings.password,\n    dbSettings\n)\n\nconst models = {\n    sequelize: null,\n    Sequelize: null\n}\n\nfs.readdirSync(__dirname)\n.filter(file => file.indexOf(\".\") !== 0 && file !== \"index.js\" && !file.endsWith(\"map\"))\n.forEach(file => {\n    const model = require(path.join(__dirname, file))(db, Sequelize.DataTypes)\n    models[model.name] = model\n})\n\nmodels.sequelize = db\nmodels.Sequelize = Sequelize\n\nexport default models"]}